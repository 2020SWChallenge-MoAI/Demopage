<% layout("layouts/default") %>
<div class="row mh-100 h-100 overflow-auto">
	<%- partial("includes/left") %>
    <div class="col mh-100 h-100 overflow-auto" id="RightArea">
		<form id="form-query" action="" method="post">
			{% csrf_token %}
			<div class="cell">
				<div class="cell-title">
					<p>키워드 목록 (쉼표로 구분)</p>
				</div>
				<div class="cell-content">
					<input type="text" name="keywords" class="form-control border border-dark">
				</div>
			</div>
			<div class="cell d-flex justify-content-end">
				<button type="submit" id="submit-button" class="btn btn-primary d-flex align-items-center">
					<span class="btn-text">AI 분석</span>
					<span class="spinner-border spinner-border-sm d-none"></span>
					<span class="spinner-text d-none">&nbsp;분석 중...</span>
				</button>
			</div>
			{# return value section start #}
			{% if success %}
			<div class="cell border border-success rounded p-2" id="cell-result">
				<div class="cell-title">
					<p>분석 결과</p>
				</div>
				<div class="cell-content">
				<ul class="list-group">
					{% for keyword in keywords %}
					<li class="list-group-item">{{ keyword.name }}: {{ keyword.type }}</li>
					{% endfor %}
				</ul>
				</div>
			</div>
			{% elif success is not None %}
			<div class="cell border border-danger rounded p-2" id="cell-result">
				<div class="cell-title">
					<p>분석 실패</p>
				</div>
				<div class="cell-content"></div>
			</div>
			{% else %}
			{# no return value #}
			{% endif %}
			{# return value section end #}
		</form>
	</div>
</div>